import pandas as pd
import numpy as np
import time
import os 

class C_pandas():

    def __init__(self, name) -> None:
        self.ts = time.time()
        self.name = name
        self.directory = name
        self.parent_dir = "csv_data"

    def list_to_pasdan(self,list,side,num):
        np_ = np.array(list)
        duo_ = [np_,np_]
        # x, y = np_.shape

        # for i in range(y):
        #     data = np_[0:x,i]
        #     average = self.Average(data)
        #     max_v = data.max()
        #     # min_v = data.min()
        #     if max_v > 100:
        #         index_max = data[max_v]
        #         data[index_max] = average
        path = os.path.join(self.parent_dir, self.directory)
        try:
            os.mkdir(path)
        except OSError as error:  
            print(error)
        df = pd.DataFrame(np_)
        df.to_csv(f'csv_data/{self.name}/{side}_{self.name}_{num}.csv')
        return df
    
    def Average(self,lst): 
        return round(sum(lst) / len(lst),3) 
    
if __name__ == "__main__":
    c_p = C_pandas("Witsarut_Butdee")
    t = [[4.759315729999798, 3.1008999940240756e-05, 1.4307455950001895, 9.070756828999947], 
     [0.844336767000641, 1.075160362999668, 0.9610187939997559, 6.060892516999957], 
     [1.670064456999171, 0.9565019469991967, 0.7272986949992628, 9.903293571000177], 
     [0.9608064410003863, 1.0780678739993164, 0.9530936840001232, 10.672162955999738], 
     [3.594913770999483, 2.4513999960618094e-05, 1.192478758001016, 5.368087176000699], 
     [3.976508891000776, 3.2406000173068605e-05, 1.2016645430012431, 8.91014382100002], 
     [4.195075094999993, 6.2159997469279915e-06, 1.119872322999072, 13.609076196000387], 
     [2.7201545130010345, 1.6337724120003259, 1.7355293260006874, 6.689087966000443], 
     [4.786365091000334, 0.6085519349999231, 1.0858147399994778, 7.178361862001111], 
     [3.7349525499994343, 1.0873034089981957, 6.702139152001109, 3.941804181999032], 
     [2.6184859559998586, 2.3395999960484914e-05, 0.8357467610003368, 7.652226018000874], 
     [2.1503728280003997, 0.962680991000525, 1.3319463950010686, 10.124025058999905], 
     [2.901919928001007, 1.306280157999936, 0.8333109670002159, 7.268909682999947], 
     [2.5028748029999406, 1.2067247579998366, 1.5657047750009951, 9.394095154999377], 
     [3.9546438079996733, 6.509100057883188e-05, 1.193833558998449, 6.9399615279999125], 
     [2.386244262999753, 1.325077310000779, 1.3240307289997872, 8.110616476998985], 
     [3.08384357399882, 1.7110998669522814e-05, 19.858506560000023, 18.096625651000068], 
     [4.089791172000332, 3.149800068058539e-05, 1.3070952159996523, 8.491954678000184], 
     [3.1377553309994255, 1.551407315000688, 0.8440571330011153, 8.240365056999508], 
     [0.9673667810002371, 1.4365152200007287, 1.3095422019996477, 6.446060348000174], 
     [2.7478814179994515, 1.0734974259994488, 1.4299981399999524, 10.25157310600116], 
     [2.3937802239997836, 1.0769164749999618, 1.3298597229986626, 9.213701930000752], 
     [1.9180628180001804, 1.3339227619999292, 1.0893044539989205, 9.942597633000332], 
     [3.8457909500011738, 6.705000487272628e-06, 1.2037375620002422, 10.395278771000449], 
     [3.6184831659993506, 0.7250907589987037, 1.5641190280002775, 16.673159436999413], 
     [0.8357972930007236, 1.3190555780001887, 0.9661056450004253, 11.665668469999218], 
     [3.7051800369990815, 0.3656495100003667, 0.8414018339990434, 8.719917572998384], 
     [2.042126251000809, 0.9649356130012166, 1.4350964889999887, 7.023131713000112], 
     [3.312810782001179, 1.437411721000899, 1.3169135540010757, 7.516787131999081], 
     [2.769154918998538, 1.2154090350013576, 1.4586690769992856, 8.327649053999266], 
     [2.6287989110005583, 1.917754514999615, 1.3142014330005622, 10.522716237999703], 
     [2.747157544001311, 1.3169014249997417, 1.1978112329998112, 18.7841337560003], 
     [277.4560503339999, 1.096502482001597, 0.8424297319998004, 6.456411805998869], 
     [0.7249673100013752, 0.836259276000419, 0.8519011219996173, 9.514858398999422], 
     [1.8261105319998023, 1.426281904001371, 1.5335426760011615, 7.380205494999245], 
     [2.512719416999971, 1.7015625109997927, 1.0732037809993926, 14.264851676000035], 
     [3.3485010199983662, 2.143369654999333, 1.5584325290001289, 9.460412893000466], 
     [2.990810369999963, 1.3141613820007478, 1.3373025479995704, 13.221897908999381], 
     [4.779447518998495, 3.2406000173068605e-05, 1.318433919999734, 8.366600035000374], 
     [2.264708360999066, 2.283400811998945, 2.0246403309993184, 9.532838109000295], 
     [2.7280254430006607, 1.4380483200002345, 1.3092938480003795, 8.667827722998481], 
     [2.277356567001334, 1.0763374309990468, 5.326323115999912, 6.662779979000334], 
     [4.0471405900007085, 2.287956680998832, 2.332599979126826e-05, 7.63858496300054], 
     [2.634592533000614, 1.9116159810000681, 1.5533534109999891, 7.291507522999382], 
     [1.3172094599995035, 9.170047961999444, 3.09389997710241e-05, 5.677460674000031], 
     [1.778422942999896, 1.0628181309984939, 1.2126186099994811, 6.405567124000299], 
     [2.396311082000466, 1.9003037800011953, 1.420843951000279, 8.321775291999074], 
     [3.330177552999885, 2.3815999156795442e-05, 0.9571367740009009, 12.014275049001299], 
     [2.405917738999051, 2.493499960110057e-05, 14.880365761999201, 0.36863708999953815], 
     [0.9559064640016004, 1.1846445549999771, 1.4280897099997674, 7.5599123960000725], 
     [0.9504653120002331, 1.0727220219996525, 2.1832918239997525, 8.285692043999006], 
     [0.9609004800004186, 1.2003074670010392, 1.2097935249985312, 11.117535473998942], 
     [1.2014034399999218, 1.441342830999929, 1.4341929769998387, 6.402073348001068], 
     [0.9636870839985932, 1.2048298940007953, 1.5549127550002595, 7.895208117999573], 
     [1.4357055660002516, 1.5562735960011196, 1.0614160469995113, 8.815839266999319], 
     [4.4128353299984155, 2.430600034131203e-05, 0.9508673489999637, 11.710145965000265], 
     [3.5950752989992907, 2.954400042654015e-05, 1.074908171000061, 13.032241482000245], 
     [1.0696257580002566, 1.1925431370000297, 1.5834078829993814, 9.966666587999498], 
     [1.0749476400014828, 1.5603729199992813, 1.7911838319996605, 16.64357503100109], 
     [2.603564410999752, 1.0788475559984363, 1.19334002100004, 11.91596696599845], 
     [2.990612304000024, 1.7989010849996703, 1.8091970080004103, 15.601107967000644], 
     [2.606941297000958, 1.439687985999626, 1.0737751110009413, 8.921614343000329], 
     [1.1938786810005695, 1.209482713999023, 1.0698382660011703, 11.95575867200023], 
     [1.0897504660006234, 1.0722627730010572, 1.335227980000127, 8.545706834998782], 
     [3.5092402800000855, 2.28114414799893, 0.838617023999177, 4.655234062998716], 
     [3.339634758000102, 0.9661117919986282, 1.1866246919998957, 10.847214019999228], 
     [2.031211836001603, 5.396945058999336, 1.7773856290004915, 11.429742038000768], 
     [2.163835008001115, 1.0772255310002947, 1.9034978820000106, 8.012593464998645], 
     [2.1572266330003913, 1.1945684969996364, 1.0692531920012698, 8.242258996999226], 
     [2.5103056250009104, 1.2117088200011494, 8.44883817400114, 0.12181029299972579], 
     [4.046268975998828, 2.050133080998421, 3.052099964406807e-05, 9.20162536099997], 
     [4.550959869999133, 0.6072798860004696, 2.525196312000844, 9.38329208200048], 
     [2.852970373998687, 0.712096400999144, 0.8433732479988976, 8.026003738999862], 
     [4.4156325589992775, 7.194001227617264e-06, 1.196635205998973, 5.5698452859996905], 
     [1.084444751000774, 1.320823055000801, 1.449843836000582, 6.1121016800007055], 
     [4.1974568299992825, 1.6856562480006687, 12.246497411000746, 21.11699300500004], 
     [3.605083583001033, 3.052099964406807e-05, 1.0871498240012443, 5.0915064590008114], 
     [1.0916994199997134, 1.0833495989991206, 1.3112617280003178, 8.224476964998757], 
     [2.504962920000253, 0.7134736190000694, 1.3317939699991257, 10.978885328000615], 
     [3.214003783001317, 1.08831116500005, 1.3188061700002436, 9.725496217999535], 
     [0.9646546530002524, 0.8450092250004673, 0.8405765909992624, 7.2355878569997], 
     [4.9088032789986755, 2.045834284999728, 2.3397000404656865e-05, 9.158891525001309], 
     [4.42891341900031, 0.5993327689993748, 0.9555510310001409, 13.657267847000185], 
     [3.807981280999229, 2.4375000066356733e-05, 1.2044199570009368, 7.72077118299967], 
     [3.8348415439995733, 1.6930305799996859, 9.627722152999922, 2.863998815882951e-06], 
     [2.3949294310004916, 1.0730517320007493, 1.0842071269998996, 6.872476661999826], 
     [1.0798131070005184, 1.1943168289999448, 1.3264875690001645, 8.408398875000785], 
     [3.6862067639995075, 0.6056840210003429, 1.2019902410011127, 6.1576673409999785], 
     [1.8138921509998909, 1.3145835029990849, 6.636712490000718, 3.330779576999703], 
     [3.019106412999463, 0.7162059820002469, 1.0784270359999937, 14.36765887600086], 
     [0.8318368630007171, 2.3955999495228752e-05, 0.7334398240000155, 7.609441857999627], 
     [2.2700396830005047, 0.9617555540007743, 1.5509689890004665, 8.947781336000844], 
     [3.2272212839998247, 3.0102000891929492e-05, 1.7819378529984533, 6.8237579070009815], 
     [1.190735627000322, 0.9563360319989442, 1.3246479359986552, 6.274164115999156], 
     [1.6666535299991665, 1.0838760130009177, 2.0317158059988287, 8.205852905999564], 
     [5.727159081001446, 0.24184293399957824, 1.0648666280030739, 7.785302590000356], 
     [3.342932594001468, 2.4375000066356733e-05, 0.9588125490008679, 11.735721887002], 
     [0.7326672240014886, 1.1944184540006972, 1.4380857329997525, 7.112528555000608], 
     [2.2648149950000516, 0.9669663139975455, 0.8504858800006332, 12.740569813002367], 
     [3.6202477180013375, 3.121999907307327e-05, 0.9550139289967774, 9.398785804998624], 
     [3.719893677000073, 0.5996534070000052, 0.8263211560006312, 8.104314579999482], 
     [3.4680859619984403, 2.1784633719980775, 2.3257001885212958e-05, 6.4274479240011715], 
     [3.358344076998037, 0.8268093180013238, 1.1845653710006445, 6.741857878998417], 
     [3.5918741230016167, 0.8376145980000729, 1.7986335609966773, 7.811729938002827], 
     [3.2055496130014944, 3.052100146305747e-05, 1.4382179200001701, 9.024242550000054], 
     [1.0858023269975092, 1.3120823009994638, 1.188912175999576, 7.884735895000631], 
     [0.9720121450009174, 0.8480959779990371, 1.8079394490014238, 9.16721879599936], 
     [2.8695632800008752, 1.8081410439990577, 1.1932707209998625, 8.889110010000877], 
     [2.035637961998873, 1.0619991089988616, 1.4441840779982158, 7.709807838000415], 
     [3.9614479480005684, 0.7171847980025632, 9.74090681099915, 7.589725316000113], 
     [2.4995540979980433, 0.9583630010019988, 1.1993857829984336, 5.072860731001128], 
     [5.2593487379999715, 0.47919635899961577, 8.661584139001206, 0.1259006030013552], 
     [5.73576986199987, 2.890177498997218, 5.560372415999154, 0.11937266599852592], 
     [3.3673495660004846, 8.688873087998218, 4.189564497999527, 10.24520538899742], 
     [4.060052800003177, 2.3117001546779647e-05, 1.3192625859992404, 8.664542390000861], 
     [3.5905306690001453, 3.191699943272397e-05, 1.3195850210031494, 8.104569294999237], 
     [5.268516268002713, 2.255799699923955e-05, 1.4546295159998408, 8.4567523049991], 
     [3.732343331001175, 3.3313997846562415e-05, 0.9637114750003093, 8.720348773000296], 
     [2.6333978149996256, 5.6569988373667e-06, 1.685436233998189, 6.708025271000224], 
     [4.532092534002004, 2.3719639150003786, 10.600821031999658, 0.11955507299717283], 
     [2.503198856000381, 2.0335221599998476, 1.6792244059979566, 11.07907456400062], 
     [2.774858453001798, 1.3217184610002732, 1.3244855900011316, 10.822422862998792], 
     [3.8412640079986886, 1.8083936180009914, 1.199629601000197, 13.616248518999782], 
     [3.7342681560003257, 0.6008904679983971, 0.9578790089981339, 12.695925412001088], 
     [2.00270130699937, 4.192449717000272, 0.955177999996522, 9.5833619240002], 
     [2.182904133002012, 0.8393547660016338, 0.9627329719987756, 12.426875671000744], 
     [1.6737715029994433, 0.8440183209968382, 0.837327853001625, 10.13473420900118], 
     [2.6219132149999496, 0.9621386849976261, 1.186645892001252, 8.664104280000174], 
     [3.496288611997443, 2.7429614799984847, 3.9472290160010743, 4.057199838000088], 
     [1.0725880470017728, 1.6725763850008661, 1.4371086549981555, 7.40932713300208], 
     [3.8424069819993747, 0.3606737299996894, 1.560352463999152, 12.594301328001166], 
     [3.2376040000017383, 0.7243448330009414, 1.6710682789998828, 6.342903323002247], 
     [2.265792652997334, 1.5512195070004964, 1.079953401000239, 9.035339066002052], 
     [3.6022294520007563, 0.6062234460005129, 1.0743892610007606, 6.010685725002986], 
     [2.506064689001505, 1.2010073880010168, 3.1163946080014284, 4.4067099150015565], 
     [1.7376870660009445, 1.0815325410003425, 0.9522273009970377, 7.44258335700215], 
     [1.1901260329977958, 1.3202443279988074, 5.0118931279976096, 3.843867609000881], 
     [2.5070732919994043, 1.4458356860013737, 1.086275844998454, 7.2948470629999065], 
     [3.232477925997955, 0.6003803880012129, 0.8513926380001067, 7.486397806998866], 
     [2.1516889359991183, 1.6737357700003486, 1.3226800290030951, 11.052512861999276]]

    t3 = [322]
    poor_list = {
                'time': [211,45,487,4575,487,5454,154],
                'neck':[],
                'torso':[]
            }
    print(c_p.list_to_pasdan(poor_list['time'], "left",1))